<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>用户登录 - 健康助手</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .login-switch { cursor: pointer; }
    </style>
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="card shadow">
                <div class="card-header bg-white p-0">
                    <div class="d-flex text-center">
                        <div class="flex-fill p-3 fw-bold bg-success text-white login-switch" id="tab-user" onclick="switchLogin('user')">
                            普通用户登录
                        </div>
                        <div class="flex-fill p-3 fw-bold bg-light text-muted login-switch" id="tab-admin" onclick="switchLogin('admin')">
                            管理员登录
                        </div>
                    </div>
                </div>

                <div class="card-body pt-4">
                    <form method="POST">
                        <input type="hidden" name="login_type" id="login_type" value="user">

                        <div class="mb-3">
                            <label class="form-label">账号</label>
                            <input type="text" class="form-control" name="username" placeholder="请输入用户名" required>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">密码</label>
                            <input type="password" class="form-control" name="password" required>
                        </div>

                        <button type="submit" class="btn btn-success w-100" id="btn-submit">立即登录</button>
                    </form>

                    <div class="mt-3 text-center">
                        <a href="/register">还没有账号？去注册</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function switchLogin(type) {
        // 1. 修改隐藏字段的值 (user 或 admin)
        document.getElementById('login_type').value = type;

        // 2. 获取两个标签元素
        var userTab = document.getElementById('tab-user');
        var adminTab = document.getElementById('tab-admin');
        var submitBtn = document.getElementById('btn-submit');

        // 3. 改变样式（谁被选中，谁就变色）
        if (type === 'admin') {
            // 选中了管理员
            userTab.className = 'flex-fill p-3 fw-bold bg-light text-muted login-switch';
            adminTab.className = 'flex-fill p-3 fw-bold bg-dark text-white login-switch'; // 管理员用黑色
            submitBtn.className = 'btn btn-dark w-100'; // 按钮也变黑
            submitBtn.innerText = '管理员登录';
        } else {
            // 选中了普通用户
            userTab.className = 'flex-fill p-3 fw-bold bg-success text-white login-switch'; // 用户用绿色
            adminTab.className = 'flex-fill p-3 fw-bold bg-light text-muted login-switch';
            submitBtn.className = 'btn btn-success w-100'; // 按钮变绿
            submitBtn.innerText = '立即登录';
        }
    }
</script>

</body>
</html>